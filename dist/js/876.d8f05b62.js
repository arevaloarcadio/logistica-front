"use strict";(self["webpackChunkionic_app_base"]=self["webpackChunkionic_app_base"]||[]).push([[876],{7876:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});var n=l(6252),i=l(9963),a=l(3577);const s=e=>((0,n.dD)("data-v-36362b19"),e=e(),(0,n.Cn)(),e),o=s((()=>(0,n._)("br",null,null,-1))),u=s((()=>(0,n._)("br",null,null,-1))),d=s((()=>(0,n._)("br",null,null,-1))),p=s((()=>(0,n._)("br",null,null,-1))),r={style:{"margin-left":"24px","margin-right":"24px"}},m={class:"card"},_={class:"table table-responsive-sm table-striped table-align-middle"},h=s((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Chofer"),(0,n._)("th",null,"Tipo de Envio"),(0,n._)("th",null,"Fecha de registro"),(0,n._)("th",null,"Acciones")])],-1))),c={"aria-label":"page navigation example"},g={class:"pagination justify-content-center"},f={class:"page-item"},w={class:"page-link"},k=s((()=>(0,n._)("br",null,null,-1))),y={style:{"margin-left":"15px",display:"flex","overflow-x":"auto","white-space":"nowrap"}},b=["src"],W=s((()=>(0,n._)("br",null,null,-1))),v=s((()=>(0,n._)("br",null,null,-1))),z=s((()=>(0,n._)("br",null,null,-1))),D=s((()=>(0,n._)("br",null,null,-1)));function S(e,t,l,s,S,C){const I=(0,n.up)("ion-title"),U=(0,n.up)("ion-progress-bar"),x=(0,n.up)("ion-toolbar"),O=(0,n.up)("ion-header"),L=(0,n.up)("ion-input"),T=(0,n.up)("ion-col"),F=(0,n.up)("ion-select-option"),A=(0,n.up)("ion-select"),V=(0,n.up)("ion-row"),E=(0,n.up)("ion-icon"),j=(0,n.up)("ion-button"),q=(0,n.up)("ion-buttons"),Z=(0,n.up)("ion-label"),M=(0,n.up)("ion-item"),R=(0,n.up)("ion-content"),H=(0,n.up)("ion-modal"),K=(0,n.up)("ion-page");return(0,n.wg)(),(0,n.j4)(K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Reportes de Envios")])),_:1}),e.loading?((0,n.wg)(),(0,n.j4)(U,{key:0,type:"indeterminate"})):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(R,null,{default:(0,n.w5)((()=>[(0,n.Wm)(O,{collapse:"condense"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,{size:"large"},{default:(0,n.w5)((()=>[(0,n.Uk)("Reportes de Envios")])),_:1})])),_:1})])),_:1}),o,u,(0,n.Wm)(V,{style:{"margin-left":"20px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{sizeLg:"3",sizeMd:"3",sizeXs:"11"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{placeholder:"Buscar chofer",modelValue:e.filter_like_user,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter_like_user=t)},null,8,["modelValue"])])),_:1}),(0,n.Uk)("      "),(0,n.Wm)(T,{sizeLg:"2",sizeMd:"3",sizeXs:"11"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"text",onfocus:"(this.type='date')",onChange:t[1]||(t[1]=(...t)=>e.getFilterShipments&&e.getFilterShipments(...t)),"onUpdate:modelValue":t[2]||(t[2]=t=>e.from_date=t),placeholder:"Fecha desde",class:"input-date"},null,544),[[i.nr,e.from_date]])])),_:1}),(0,n.Wm)(T,{sizeLg:"2",sizeMd:"3",sizeXs:"11"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{type:"text",onfocus:"(this.type='date')",onChange:t[3]||(t[3]=(...t)=>e.getFilterShipments&&e.getFilterShipments(...t)),"onUpdate:modelValue":t[4]||(t[4]=t=>e.to_date=t),placeholder:"Fecha hasta",class:"input-date"},null,544),[[i.nr,e.to_date]])])),_:1}),(0,n.Wm)(T,{sizeLg:"3",sizeMd:"3",sizeXs:"11"},{default:(0,n.w5)((()=>[(0,n.Wm)(A,{class:"input-date",modelValue:e.type_shipment_id,"onUpdate:modelValue":t[5]||(t[5]=t=>e.type_shipment_id=t),onIonChange:e.getFilterShipments,placeholder:"Seleccione el tipo de envio",interface:"action-sheet"},{default:(0,n.w5)((()=>[(0,n.Wm)(F,{value:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Cualquiera")])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.types,(e=>((0,n.wg)(),(0,n.j4)(F,{key:e,value:e.id},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onIonChange"])])),_:1})])),_:1}),d,p,(0,n._)("div",r,[(0,n._)("div",m,[(0,n._)("table",_,[h,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.shipments.data,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t},[(0,n._)("td",null,(0,a.zw)(t?.user?.first_name)+" "+(0,a.zw)(t?.user?.last_name),1),(0,n._)("td",null,(0,a.zw)(t?.type_shipment?.name),1),(0,n._)("td",null,(0,a.zw)(new Date(t?.created_at).toLocaleDateString())+" "+(0,a.zw)(new Date(t?.created_at).toLocaleTimeString()),1),(0,n._)("td",null,[(0,n.Wm)(j,{color:"primary",title:"Ver detalles",onClick:l=>e.setOpenDetails(!0,t)},{default:(0,n.w5)((()=>[(0,n.Wm)(E,{icon:e.eye,ios:e.eyeOutline,md:e.eye},null,8,["icon","ios","md"])])),_:2},1032,["onClick"])])])))),128))])]),(0,n._)("nav",c,[(0,n._)("ul",g,[(0,n._)("li",{class:(0,a.C_)({"page-item":!0,disabled:!e.shipments.prev_page_url})},[(0,n._)("a",{class:"page-link",onClick:t[6]||(t[6]=t=>e.page(e.shipments.prev_page_url)),tabindex:"-1"},"Anterior")],2),(0,n._)("li",f,[(0,n._)("a",w,(0,a.zw)(e.shipments.current_page),1)]),(0,n._)("li",{class:(0,a.C_)({"page-item":!0,disabled:!e.shipments.next_page_url})},[(0,n._)("a",{class:"page-link",onClick:t[7]||(t[7]=t=>e.page(e.shipments.next_page_url))},"Siguiente")],2)])])])]),(0,n.Wm)(H,{"is-open":e.isOpenDetails,class:"modal-a",onIonModalWillDismiss:t[9]||(t[9]=t=>e.isOpenDetails=!1),"enter-animation":e.enterAnimation,"leave-animation":e.leaveAnimation},{default:(0,n.w5)((()=>[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Detalles del Envio")])),_:1}),(0,n.Wm)(q,{slot:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)(j,{onClick:t[8]||(t[8]=t=>e.setOpenDetails(!1))},{default:(0,n.w5)((()=>[(0,n.Wm)(E,{icon:e.close,ios:e.closeOutline,md:e.close},null,8,["icon","ios","md"])])),_:1})])),_:1}),e.loadingEdit?((0,n.wg)(),(0,n.j4)(U,{key:0,type:"indeterminate"})):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(R,{class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(M,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Chofer: "),(0,n._)("b",null,(0,a.zw)(e.shipment?.user?.first_name)+" "+(0,a.zw)(e.shipment?.user?.last_name),1)])),_:1})])),_:1}),(0,n.Wm)(M,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Tipo de envio: "),(0,n._)("b",null,(0,a.zw)(e.shipment?.type_shipment?.name),1)])),_:1})])),_:1}),null!=e.shipment?.latitude&&null!=e.shipment?.latitude?((0,n.wg)(),(0,n.j4)(M,{key:0,lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Coordenadas ")])),_:1})])),_:1})):(0,n.kq)("",!0),null!=e.shipment?.latitude&&null!=e.shipment?.latitude?((0,n.wg)(),(0,n.j4)(M,{key:1,lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Latitud: "),(0,n._)("b",null,(0,a.zw)(e.shipment?.latitude),1),(0,n.Uk)("    Longitud: "),(0,n._)("b",null,(0,a.zw)(e.shipment?.longitude),1)])),_:1})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(M,{lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Fecha de registro: "),(0,n._)("b",null,(0,a.zw)(new Date(e.shipment?.created_at).toLocaleDateString())+" "+(0,a.zw)(new Date(e.shipment?.created_at).toLocaleTimeString()),1)])),_:1})])),_:1}),k,(0,n._)("div",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.shipment?.images,(t=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[(0,n._)("img",{style:{height:"210px","border-radius":"15px"},src:e.baseURL+"/"+t.path},null,8,b),(0,n.Uk)("      ")],64)))),128))]),W,v,z,D])),_:1})])),_:1},8,["is-open","enter-animation","leave-animation"])])),_:1})])),_:1})}var C=l(941),I=l(5980),U=l(196),x=l(8903),O=(0,n.aZ)({name:"Tab2Page",components:{IonHeader:C.Gu,IonInput:C.pK,IonSelect:C.t9,IonSelectOption:C.n0,IonModal:C.ki,IonButton:C.YG,IonToolbar:C.sr,IonProgressBar:C.X7,IonTitle:C.wd,IonContent:C.W2,IonPage:C._i},setup(){const e=e=>{const t=e.shadowRoot,l=(0,I.c)().addElement(t.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),n=(0,I.c)().addElement(t.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return(0,I.c)().addElement(e).easing("ease-out").duration(500).addAnimation([l,n])},t=t=>e(t).direction("reverse");return{enterAnimation:e,leaveAnimation:t,eyeOutline:x.hII,eye:x.iyy,banOutline:x.L6S,close:x.xvD,closeOutline:x.fID,ban:x.KC,personAddOutline:x.$$h,personAdd:x.vi8,checkmarkCircleOutline:x.Nwd,checkmarkCircle:x.I1A}},data(){return{baseURL:U.Z.defaults.baseURL,first_name:null,last_name:null,email:null,password:null,types:[],password_confirmation:null,shipments:[],shipment:null,loading:!0,isOpenDetails:!1,filter_like_user:null,from_date:null,to_date:null,type_shipment_id:null,awaitingSearch:!1,timer:null}},watch:{filter_like_user:function(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.awaitingSearch=!1,this.getFilterShipments()}),1e3)}},mounted(){this.getTypes(),this.getShipments()},methods:{setOpenDetails(e,t=null){console.log(e),this.isOpenDetails=e,this.shipment=t},getShipments(){U.Z.get("/api/shipments").then((e=>{this.shipments=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))},getTypes(){U.Z.get("/api/type_shipments?all=true").then((e=>{this.types=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))},getFilterShipments(){this.loading=!0,null!=this.filter_like_user||null!=this.from_date||null!=this.to_date||null!=this.type_shipment_id?U.Z.post("/api/shipments/search",{filter_like_user:this.filter_like_user,from_date:this.from_date,to_date:this.to_date,type_shipment_id:this.type_shipment_id}).then((e=>{this.shipments=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)})):this.getShipments()},page(e){this.loading=!0,U.Z.get(e).then((e=>{this.shipments=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))}}}),L=l(3744);const T=(0,L.Z)(O,[["render",S],["__scopeId","data-v-36362b19"]]);var F=T}}]);
//# sourceMappingURL=876.d8f05b62.js.map