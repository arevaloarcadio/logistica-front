"use strict";(self["webpackChunkionic_app_base"]=self["webpackChunkionic_app_base"]||[]).push([[602],{4602:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var a=n(6252),i=n(3577);const l=e=>((0,a.dD)("data-v-7ea9141c"),e=e(),(0,a.Cn)(),e),o=l((()=>(0,a._)("br",null,null,-1))),s=l((()=>(0,a._)("br",null,null,-1))),d=l((()=>(0,a._)("br",null,null,-1))),r=l((()=>(0,a._)("br",null,null,-1))),c=l((()=>(0,a._)("br",null,null,-1))),p={style:{"justify-content":"center",display:"flex"}},u=l((()=>(0,a._)("div",{class:"pencil-icon"},[(0,a._)("img",{src:"/assets/icon/pencil-white.svg"})],-1))),m=l((()=>(0,a._)("br",null,null,-1))),g={style:{"text-align":"center"}},h=l((()=>(0,a._)("br",null,null,-1))),_={style:{"justify-content":"center",display:"flex"}},f=l((()=>(0,a._)("div",{class:"pencil-icon"},[(0,a._)("img",{src:"/assets/icon/pencil-white.svg"})],-1))),y=l((()=>(0,a._)("br",null,null,-1))),w={style:{"text-align":"center"}},b={style:{"margin-left":"24px","margin-right":"24px"}},v={class:"card"},k={class:"table table-responsive-sm table-striped table-align-middle"},W=l((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Icono"),(0,a._)("th"),(0,a._)("th",null,"Descripción"),(0,a._)("th"),(0,a._)("th"),(0,a._)("th",null,"Acciones")])],-1))),C={style:{"justify-content":"center",display:"flex"}},A=l((()=>(0,a._)("td",null,null,-1))),U=l((()=>(0,a._)("td",null,null,-1))),O=l((()=>(0,a._)("td",null,null,-1))),x={"aria-label":"page navigation example"},I={class:"pagination justify-content-center"},E={class:"page-item"},T={class:"page-link"};function F(e,t,n,l,F,Z){const D=(0,a.up)("ion-title"),R=(0,a.up)("ion-progress-bar"),V=(0,a.up)("ion-toolbar"),j=(0,a.up)("ion-header"),q=(0,a.up)("ion-searchbar"),L=(0,a.up)("ion-col"),S=(0,a.up)("ion-icon"),z=(0,a.up)("ion-button"),M=(0,a.up)("ion-row"),K=(0,a.up)("ion-buttons"),B=(0,a.up)("ion-img"),H=(0,a.up)("ion-thumbnail"),P=(0,a.up)("ion-input"),X=(0,a.up)("ion-content"),G=(0,a.up)("ion-modal"),Y=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Tipo de envios")])),_:1}),e.loading?((0,a.wg)(),(0,a.j4)(R,{key:0,type:"indeterminate"})):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(X,null,{default:(0,a.w5)((()=>[(0,a.Wm)(j,{collapse:"condense"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{size:"large"},{default:(0,a.w5)((()=>[(0,a.Uk)("Tipo de envios")])),_:1})])),_:1})])),_:1}),o,s,(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,{sizeLg:"4",sizeMd:"6",sizeXs:"10"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{style:{"margin-left":"11px"},debounce:1e3,modelValue:e.filter_like,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter_like=t),onIonChange:e.getFilterUsers,animated:"true","show-clear-button":"focus",placeholder:"Buscar tipo de envio","cancel-button-text":"Custom Cancel"},null,8,["modelValue","onIonChange"])])),_:1}),(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z,{color:"primary",title:"Agregar tipo de envio",onClick:t[1]||(t[1]=t=>e.isOpenAdd=!0),style:{float:"right","margin-right":"25px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:e.add,ios:e.addOutline,md:e.add},null,8,["icon","ios","md"])])),_:1})])),_:1})])),_:1}),d,r,(0,a.Wm)(G,{"is-open":e.isOpenAdd,onIonModalWillDismiss:t[7]||(t[7]=t=>e.isOpenAdd=!1),"enter-animation":e.enterAnimation,"leave-animation":e.leaveAnimation},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Agregar tipo de envio")])),_:1}),(0,a.Wm)(K,{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{onClick:t[2]||(t[2]=t=>e.setOpenAdd(!1))},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:e.close,ios:e.closeOutline,md:e.close},null,8,["icon","ios","md"])])),_:1})])),_:1}),e.loadingAdd?((0,a.wg)(),(0,a.j4)(R,{key:0,type:"indeterminate"})):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(X,{class:"ion-padding"},{default:(0,a.w5)((()=>[c,(0,a._)("div",p,[(0,a.Wm)(H,{slot:"start",onClick:t[3]||(t[3]=t=>e.showFileAdd())},{default:(0,a.w5)((()=>[u,(0,a.Wm)(B,{class:"border-img",id:"icon-path-add",src:"https://ionicframework.com/docs/img/demos/avatar.svg"})])),_:1}),(0,a._)("input",{type:"file",ref:"file",id:"icon-add",onChange:t[4]||(t[4]=t=>e.getFileAdd(t)),accept:"image/*",style:{display:"none"}},null,544)]),m,(0,a.Wm)(P,{type:"text",modelValue:e.name,"onUpdate:modelValue":t[5]||(t[5]=t=>e.name=t),placeholder:"Ingrese el nombre"},null,8,["modelValue"]),(0,a._)("div",g,[(0,a.Wm)(z,{disabled:e.loadingEdit,color:"primary",onClick:t[6]||(t[6]=t=>e.addType())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Enviar ")])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["is-open","enter-animation","leave-animation"]),(0,a.Wm)(G,{"is-open":e.isOpenEdit,onIonModalWillDismiss:t[13]||(t[13]=t=>e.isOpenEdit=!1),"enter-animation":e.enterAnimation,"leave-animation":e.leaveAnimation},{default:(0,a.w5)((()=>[(0,a.Wm)(j,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Editar tipo de envio")])),_:1}),(0,a.Wm)(K,{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{onClick:t[8]||(t[8]=t=>e.setOpenEdit(!1))},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:e.close,ios:e.closeOutline,md:e.close},null,8,["icon","ios","md"])])),_:1})])),_:1}),e.loadingEdit?((0,a.wg)(),(0,a.j4)(R,{key:0,type:"indeterminate"})):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(X,{class:"ion-padding"},{default:(0,a.w5)((()=>[h,(0,a._)("div",_,[(0,a.Wm)(H,{slot:"start",onClick:t[9]||(t[9]=t=>e.showFile())},{default:(0,a.w5)((()=>[f,(0,a.Wm)(B,{class:"border-img",id:"icon-path",src:""==e.type.icon_path?"https://ionicframework.com/docs/img/demos/avatar.svg":e.baseURL+"/"+e.type.icon_path},null,8,["src"])])),_:1}),(0,a._)("input",{type:"file",ref:"file",id:"icon",onChange:t[10]||(t[10]=t=>e.getFile(t)),accept:"image/*",style:{display:"none"}},null,544)]),y,(0,a.Wm)(P,{type:"text",modelValue:e.type.name,"onUpdate:modelValue":t[11]||(t[11]=t=>e.type.name=t),placeholder:"Ingrese el nombre"},null,8,["modelValue"]),(0,a._)("div",w,[(0,a.Wm)(z,{disabled:e.loadingEdit,color:"primary",onClick:t[12]||(t[12]=t=>e.editType())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Enviar ")])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["is-open","enter-animation","leave-animation"]),(0,a._)("div",b,[(0,a._)("div",v,[(0,a._)("table",k,[W,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.types.data,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[(0,a._)("div",C,[(0,a.Wm)(H,{slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"border-img",src:""==t.icon_path?"https://ionicframework.com/docs/img/demos/avatar.svg":e.baseURL+"/"+t.icon_path},null,8,["src"])])),_:2},1024)])]),A,(0,a._)("td",null,(0,i.zw)(t.name),1),U,O,(0,a._)("td",null,[(0,a.Wm)(z,{color:"primary",title:"Editar tipo de envio",onClick:n=>e.showModalEdit(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{icon:e.create,ios:e.createOutline,md:e.create},null,8,["icon","ios","md"])])),_:2},1032,["onClick"])])])))),128))])]),(0,a._)("nav",x,[(0,a._)("ul",I,[(0,a._)("li",{class:(0,i.C_)({"page-item":!0,disabled:!e.types.prev_page_url})},[(0,a._)("a",{class:"page-link",onClick:t[14]||(t[14]=t=>e.page(e.types.prev_page_url)),tabindex:"-1"},"Anterior")],2),(0,a._)("li",E,[(0,a._)("a",T,(0,i.zw)(e.types.current_page),1)]),(0,a._)("li",{class:(0,i.C_)({"page-item":!0,disabled:!e.types.next_page_url})},[(0,a._)("a",{class:"page-link",onClick:t[15]||(t[15]=t=>e.page(e.types.next_page_url))},"Siguiente")],2)])])])])])),_:1})])),_:1})}var Z=n(941),D=n(5980),R=n(196),V=n(5113),j=n(8903),q=(0,a.aZ)({name:"Tab2Page",components:{IonThumbnail:Z.Bs,IonImg:Z.Xz,IonHeader:Z.Gu,IonSearchbar:Z.VI,IonModal:Z.ki,IonButton:Z.YG,IonInput:Z.pK,IonToolbar:Z.sr,IonProgressBar:Z.X7,IonTitle:Z.wd,IonContent:Z.W2,IonPage:Z._i},data(){return{baseURL:R.Z.defaults.baseURL,types:[],type:null,name:null,icon_path:null,icon_path_add:null,loading:!0,loadingAdd:!1,loadingEdit:!1,isOpenAdd:!1,isOpenEdit:!1}},setup(){const e=e=>{const t=e.shadowRoot,n=(0,D.c)().addElement(t.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),a=(0,D.c)().addElement(t.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return(0,D.c)().addElement(e).easing("ease-out").duration(500).addAnimation([n,a])},t=t=>e(t).direction("reverse");return{enterAnimation:e,leaveAnimation:t,createOutline:j.mjL,create:j.Ue8,banOutline:j.L6S,close:j.xvD,closeOutline:j.fID,ban:j.KC,addOutline:j.s6O,add:j.IHx,checkmarkCircleOutline:j.Nwd,checkmarkCircle:j.I1A}},mounted(){this.getTypes()},methods:{showFile(){document.querySelector("#icon").click()},showFileAdd(){document.querySelector("#icon-add").click()},getFile(e){var t=new FileReader;t.onload=function(){var e=document.querySelector("#icon-path");e.src=t.result},this.icon_path=e.target.files[0],t.readAsDataURL(e.target.files[0])},getFileAdd(e){var t=new FileReader;t.onload=function(){var e=document.querySelector("#icon-path-add");e.src=t.result},this.icon_path_add=e.target.files[0],t.readAsDataURL(e.target.files[0])},setOpenAdd(e){this.isOpenAdd=e},setOpenEdit(e){this.isOpenEdit=e},showModalEdit(e){this.type=e,this.isOpenEdit=!0},getTypes(){R.Z.get("/api/type_shipments").then((e=>{this.types=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))},getFilterUsers(){this.loading=!0,R.Z.get("/api/type_shipments?filter_like="+this.filter_like).then((e=>{this.types=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))},addType(){this.loadingAdd=!0;var e=new FormData;e.append("icon_path",this.icon_path_add),e.append("name",this.name),R.Z.post("/api/type_shipments",e).then((e=>{console.log(e),V.Z.openToast("Tipo de envio registrado exitosamente","success",1e4),this.loadingAdd=!1,this.isOpenAdd=!1,this.getTypes()})).catch((e=>{this.isOpenAdd=!1,console.log(e)}))},editType(){this.loadingEdit=!0;var e=new FormData;e.append("icon_path",this.icon_path),e.append("name",this.type.name),R.Z.post("/api/type_shipments/"+this.type.id,e).then((e=>{console.log(e),V.Z.openToast("Tipo de envio modificado exitosamente","success",1e4),this.loadingEdit=!1,this.isOpenEdit=!1,this.getTypes()})).catch((e=>{this.loadingEdit=!1,console.log(e)}))},async confirmDisabledUser(e){const t=await Z.Cl.create({header:"Confirmación",message:"¿Realmente desea deshabilitar al usuario "+e.first_name+" "+e.last_name+"?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Usuario cancelado")}},{text:"OK",role:"confirm",handler:()=>{this.disabledUser(e)}}]});await t.present()},disabledUser(e){this.loading=!0,R.Z["delete"]("/api/users/"+e.id).then((e=>{V.Z.openToast("Usuario deshabilitado exitosamente","success",1e4),console.log(e),this.getUsers(),this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))},async confirmEnableUser(e){const t=await Z.Cl.create({header:"Confirmación",message:"¿Realmente desea habilitar al usuario "+e.first_name+" "+e.last_name+"?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Usuario cancelado")}},{text:"OK",role:"confirm",handler:()=>{this.enabledUser(e)}}]});await t.present()},enabledUser(e){this.loading=!0,R.Z.put("/api/users/"+e.id).then((e=>{V.Z.openToast("Usuario habilitado exitosamente","success",1e4),console.log(e),this.getUsers(),this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))},page(e){this.loading=!0,R.Z.get(e).then((e=>{this.types=e.data.data,this.loading=!1})).catch((e=>{this.loading=!1,console.log(e)}))}}}),L=n(3744);const S=(0,L.Z)(q,[["render",F],["__scopeId","data-v-7ea9141c"]]);var z=S}}]);
//# sourceMappingURL=602.914d2d50.js.map